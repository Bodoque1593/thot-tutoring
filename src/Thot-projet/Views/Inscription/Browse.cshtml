@model IEnumerable<Thot_projet.Models.InscriptionBrowseVM>
@{
    ViewBag.Title = "S'inscrire à un cours";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>S'inscrire à un cours</h2>

@if (!Model.Any())
{
    <p><em>Aucun cours disponible.</em></p>
}
else
{
    <div class="row">
        @foreach (var c in Model)
        {
            <div class="col-sm-6 col-md-4">
                <div class="thumbnail">
                    <div class="caption">
                        <h3 style="margin-top:0">@c.Nom</h3>
                        <p><span class="label label-default">Niveau: @c.Niveau</span></p>

                        @if (c.DejaInscrit)
                        {
                            <p><span class="label label-success">Déjà inscrit</span></p>
                            <p>@Html.ActionLink("Voir mes cours", "Index", "Inscription", null, new { @class = "btn btn-default btn-sm" })</p>
                        }
                        else
                        {
                            using (Html.BeginForm("Enroll", "Inscription", FormMethod.Post))
                            {
                                @Html.AntiForgeryToken()
                                @Html.Hidden("coursId", c.CoursId)
                                <button type="submit" class="btn btn-primary btn-sm">S'inscrire</button>
                            }
                        }
                    </div>
                </div>
            </div>
        }
    </div>
}

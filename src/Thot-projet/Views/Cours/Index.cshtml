@model IEnumerable<Thot_projet.Models.Cours>
@{
    ViewBag.Title = "Liste des cours";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var role = Convert.ToString(Session["UserRole"] ?? "");
    var isTuteur = string.Equals(role, "Tuteur", StringComparison.OrdinalIgnoreCase);
}
<style>
    .page-head {
        margin-bottom: 16px;
    }

        .page-head h2 {
            margin: 0 0 6px;
        }

    .soft-hr {
        margin: 8px 0 16px;
    }
</style>

<div class="page-head">
    <h2>Liste des cours</h2>
    <hr class="soft-hr" />
</div>

@if (isTuteur)
{
    <p>@Html.ActionLink("Créer un nouveau cours", "Create", null, new { @class = "btn btn-success" })</p>
}

<table class="table table-striped table-bordered">
    <thead>
        <tr><th>Nom</th><th>Niveau</th><th>Actions</th></tr>
    </thead>
    <tbody>
        @foreach (var c in Model)
        {
            <tr>
                <td>@c.Nom</td>
                <td>@c.Niveau</td>
                <td>
                    @if (isTuteur)
                    {
                        @Html.ActionLink("Détails", "Details", new { id = c.id }, new { @class = "btn btn-info btn-xs" }) @: |
                        @Html.ActionLink("Modifier", "Edit", new { id = c.id }, new { @class = "btn btn-warning btn-xs" }) @: |
                        @Html.ActionLink("Supprimer", "Delete", new { id = c.id }, new { @class = "btn btn-danger btn-xs" })
                    }
                    else
                    {
                        @Html.ActionLink("Voir", "Details", new { id = c.id }, new { @class = "btn btn-default btn-xs" })
                    }
                </td>
            </tr>
        }
    </tbody>
</table>

@model Thot_projet.Models.EtudiantDashboardVM
@{
    ViewBag.Title = "Tableau de bord";
}

<h2>Tableau de bord</h2>

<div class="row">
    <div class="col-md-7">
        <div class="panel panel-primary">
            <div class="panel-heading"><strong>Mes dernières inscriptions</strong></div>
            <ul class="list-group">
                @if (Model.MesInscriptions == null || !Model.MesInscriptions.Any())
                {
                    <li class="list-group-item text-muted">Aucune inscription.</li>
                }
                else
                {
                    foreach (var i in Model.MesInscriptions)
                    {
                        <li class="list-group-item">
                            <div class="row">
                                <div class="col-sm-8">
                                    <span class="glyphicon glyphicon-book"></span>
                                    <strong>@(i.Cours?.Nom ?? "-")</strong>
                                    <span class="text-muted"> · Niveau @((i.Cours?.Niveau ?? "-").ToString())</span>
                                </div>
                                <div class="col-sm-4 text-right">
                                    <span class="label label-default">@i.InscritLe.ToString("yyyy-MM-dd")</span>
                                </div>
                            </div>
                        </li>
                    }
                }
            </ul>
        </div>
    </div>

    <div class="col-md-5">
        <div class="panel panel-info">
            <div class="panel-heading"><strong>Mes dernières questions</strong></div>
            <ul class="list-group">
                @if (Model.MesQuestions == null || !Model.MesQuestions.Any())
                {
                    <li class="list-group-item text-muted">Aucune question.</li>
                }
                else
                {
                    foreach (var q in Model.MesQuestions)
                    {
                        <li class="list-group-item">
                            <span class="glyphicon glyphicon-question-sign"></span>
                            @q.Contenu
                            @if (!q.EstResolvee)
                            {<span class="label label-warning" style="margin-left:6px;">Ouverte</span> }
                            else
                            { <span class="label label-success" style="margin-left:6px;">Résolue</span>}
                            <a class="btn btn-xs btn-default pull-right" href="@Url.Action("Details","Question", new { id = q.id })">Voir</a>
                        </li>
                    }
                }
            </ul>
        </div>
    </div>
</div>

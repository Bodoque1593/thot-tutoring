@model Thot_projet.Models.EtudiantDashboardVM
@{
    ViewBag.Title = "Tableau de bord (Étudiant)";
}
<h2>Tableau de bord</h2>

<div class="row">
    <div class="col-md-6">
        <div class="panel panel-primary">
            <div class="panel-heading"><strong>Mes dernières inscriptions</strong></div>
            <ul class="list-group">
                @if (!(Model?.MesInscriptions?.Any() ?? false))
                {
                    <li class="list-group-item">Aucune inscription récente.</li>
                }
                else
                {
                    foreach (var i in Model.MesInscriptions)
                    {
                        <li class="list-group-item">
                            <strong>@(i.Cours != null ? i.Cours.Nom : "—")</strong>
                            <span class="text-muted"> — @i.InscritLe.ToLocalTime().ToString("yyyy-MM-dd")</span>
                        </li>
                    }
                }
            </ul>
        </div>
    </div>

    <div class="col-md-6">
        <div class="panel panel-info">
            <div class="panel-heading"><strong>Mes dernières questions</strong></div>
            <ul class="list-group">
                @if (!(Model?.MesQuestions?.Any() ?? false))
                {
                    <li class="list-group-item">Aucune question pour l’instant.</li>
                }
                else
                {
                    foreach (var q in Model.MesQuestions)
                    {
                        <li class="list-group-item">
                            <strong>@(q.Cours != null ? q.Cours.Nom : "—"):</strong> @q.Contenu
                            <span class="label @(q.EstResolvee ? "label-success" : "label-warning")" style="margin-left:8px;">
                                @(q.EstResolvee ? "Résolue" : "Ouverte")
                            </span>
                            @Html.ActionLink("Voir", "Details", "Question", new { id = q.id }, new { @class = "btn btn-xs btn-default", style = "margin-left:8px" })
                        </li>
                    }
                }
            </ul>
        </div>
    </div>
</div>
